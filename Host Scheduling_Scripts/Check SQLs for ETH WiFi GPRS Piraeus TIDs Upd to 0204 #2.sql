
-- 1. Split TIDs to famnm and appnm
select appnm, famnm, count(*)   from vc30.relation where
TERMID IN
('01051871','01105300','01254916','01281541','01326630','01363851','01370830','01379640','01380770','01399370','01410080','01424380','01487260','01536320','01540430','01620750','01623910','01627650','01658920','01659840','01679371','01719650','01728970','01744530','02167135','10000009','10000010','01087312','01154444','01212801','01227201','01264142','01287612','01302371','01305562','01308520','01308840','01311020','01325770','01336910','01364130','01364821','01372940','01427680','01432670','01436520','01577620','01621920','01665350','01695150','01733180','01907131')
AND substring(appnm,1,4) = ('PIRA')
 and substring(appnm,9,1) = ('P')
AND acccnt = -1
--and appnm  in ('EPOS01C6P')
--and famnm = 'Vx-520'
--and famnm = 'Vx-675'
--and famnm = 'Vx-675WiFi'
group by appnm, famnm
order by  famnm  ,appnm

/*
--PIRA01A3P	Vx-520	3
--PIRA01A4P	Vx-520	10
--PIRA01A5P	Vx-520	10
--PIRA01A6P	Vx-520	6
--PIRA01A8P	Vx-520	2
--PIRA01A9P	Vx-520	11
--PIRA0200P	Vx-520	3

PIRA0101P	Vx-675	2

*/

-- 2.  Export TIDs for specific appnm and famnm
select distinct CLUSTERID,termid, appnm, famnm   from vc30.relation where
TERMID IN
('01051871','01105300','01254916','01281541','01326630','01363851','01370830','01379640','01380770','01399370','01410080','01424380','01487260','01536320','01540430','01620750','01623910','01627650','01658920','01659840','01679371','01719650','01728970','01744530','02167135','10000009','10000010','01087312','01154444','01212801','01227201','01264142','01287612','01302371','01305562','01308520','01308840','01311020','01325770','01336910','01364130','01364821','01372940','01427680','01432670','01436520','01577620','01621920','01665350','01695150','01733180','01907131')
AND substring(appnm,1,4) = ('PIRA')
 and substring(appnm,9,1) = ('P')
AND acccnt = -1
and appnm  in ('PIRA0101P')
--and appnm   in ('EPOS0201P')
--and appnm = 'EOS011103' and
--and appnm = 'EOS010802'
and famnm = 'Vx-675'
order by famnm,appnm


-- 3. Check for libraries
select CLUSTERID,famnm,appnm,count(*) from vc30.relation where
TERMID in
('01051871','01087312','01105300','01212801','01227201','01264142','01287612','01302371','01305562','01308520','01311020','01325770','01326630','01336910','01363851','01364130','01364821','01370830','01372940','01379640','01380770','01399370','01410080','01424380','01427680','01432670','01436520','01487260','01536320','01540430','01577620','01620750','01621920','01623910','01627650','01658920','01659840','01665350','01679371','01695150','01719650','01728970','01733180','01744530','01907131')
group by CLUSTERID,famnm,appnm
ORDER BY CLUSTERID,famnm,appnm


-- 4. Check which TIDs have specific parnameloc
select * from vc30.PARAMETER
where partid in
('01051871','01105300','01254916','01281541','01326630','01363851','01370830','01379640','01380770','01399370','01410080','01424380','01487260','01536320','01540430','01620750','01623910','01627650','01658920','01659840','01679371','01719650','01728970','01744530','02167135','01087312','01154444','01212801','01227201','01264142','01287612','01302371','01305562','01308520','01308840','01311020','01325770','01336910','01364130','01364821','01372940','01427680','01432670','01436520','01577620','01621920','01665350','01695150','01733180','01907131')
and parnameloc ='LOCK_TRX_TIME'


 -- 5. SQL chek triplet
select CLUSTERID,famnm,appnm,count(*) from vc30.relation where
TERMID in
('01051871','01105300','01254916','01281541','01326630','01363851','01370830','01379640','01380770','01399370','01410080','01424380','01487260','01536320','01540430','01620750','01623910','01627650','01658920','01659840','01679371','01719650','01728970','01744530','02167135','01087312','01154444','01212801','01227201','01264142','01287612','01302371','01305562','01308520','01308840','01311020','01325770','01336910','01364130','01364821','01372940','01427680','01432670','01436520','01577620','01621920','01665350','01695150','01733180','01907131')
group by CLUSTERID,famnm,appnm
ORDER BY CLUSTERID,famnm,appnm

select count(*) from vc30.PARAMETER
where partid in
('01051871','01105300','01254916','01281541','01326630','01363851','01370830','01379640','01380770','01399370','01410080','01424380','01487260','01536320','01540430','01620750','01623910','01627650','01658920','01659840','01679371','01719650','01728970','01744530','02167135','01087312','01154444','01212801','01227201','01264142','01287612','01302371','01305562','01308520','01308840','01311020','01325770','01336910','01364130','01364821','01372940','01427680','01432670','01436520','01577620','01621920','01665350','01695150','01733180','01907131')
and parnameloc ='LOCK_TRX_TIME'

select value, COUNT(*) from vc30.PARAMETER where parnameloc = 'USES' and partid in
('01051871','01105300','01254916','01281541','01326630','01363851','01370830','01379640','01380770','01399370','01410080','01424380','01487260','01536320','01540430','01620750','01623910','01627650','01658920','01659840','01679371','01719650','01728970','01744530','02167135','01087312','01154444','01212801','01227201','01264142','01287612','01302371','01305562','01308520','01308840','01311020','01325770','01336910','01364130','01364821','01372940','01427680','01432670','01436520','01577620','01621920','01665350','01695150','01733180','01907131')
group by value
