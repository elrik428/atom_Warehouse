-- 1 *NOTE: Ensure that the new app is created first in the target Model using Model/App Manager


declare @FromModel varchar(20)
declare @ToModel varchar(20)
declare @FromAppnm varchar(10)
declare @ToAppnm varchar(10)
declare @FromAppnm1 varchar(10)
declare @ToAppnm1 varchar(10)
-- -------- version 2.0
 declare @FromCLA varchar(10)
 declare @ToCLA varchar(10)
 declare @FromCTLS varchar(10)
 declare @ToCTLS varchar(10)
 declare @FromOS varchar(10)
 declare @ToOS varchar(10)
 declare @FromEOS varchar(10)
 declare @ToEOS varchar(10)
-- -------- version 2.0

--**
SET @FromModel='Vx-520'
SET @ToModel='Vx-520'
--  SET @FromModel='Vx-675'
--  SET @ToModel='Vx-675'
--**
--SET @FromAppnm='EPOS01B7P'
--SET @ToAppnm='EPOS01D0P'
--SET @FromAppnm1='EPOS01B7'
--SET @ToAppnm1='EPOS01D0'

 SET @FromAppnm='EPOS01C6P'
 SET @ToAppnm='EPOS0201P'
 SET @FromAppnm1='EPOS01C6'
 SET @ToAppnm1='EPOS0201'
--
-- -------- version 2.0
 SET @FromCLA='CLA013645'
 SET @ToCLA='CLA013646'
 SET @FromCTLS='CTLS11114'
 SET @ToCTLS='CTLS20116'
 -- 0QT5G0111/QT650240/QT5G240/QT650240/QT520112
 SET @FromOS='QT520240'
 SET @ToOS='QT000520'
-- -- EOS010802/EOS011103/EOS020101
 SET @FromEOS='EOS011103'
 SET @ToEOS='EOS020816'
-- --------
--
-- -------- version 2.0 EMV
 insert into vc30.RELATION
 (FAMNM,APPNM,TERMID,CLUSTERID,ACCCNT,LASTFULL,LASTPAR,ACCCODE,VIOLATIONCOUNT,LOCKED,MODON,MODBY,LOCKTIMESTAMP,EPROMID,DESCRIPTION,DLD_STATUS,
 ISAUTODOWNLOAD,LAST_ATTEMPTED_DLD_DATE,VERSION,LASTPARAM_DLD_DATE,LASTFILE_DLD_DATE,FORUSES,FORMVIEWTYPE,SERVERID,TERM_FILE_UPDATES,
 FORCEFILEDLD,FORCEPARAMDLD,FORCETERMFILEDLD)
 select @ToModel,'EMV800',TERMID,CLUSTERID,ACCCNT,NULL,NULL,ACCCODE,0,LOCKED,getdate(),
 'SCRIPT1',NULL,NULL,DESCRIPTION,NULL,'N',NULL,NULL,NULL,NULL,FORUSES,FORMVIEWTYPE,NULL,TERM_FILE_UPDATES,'D','D','D'
 from vc30.relation
 where famnm = @FromModel and appnm = @FromOS
 -- for specific terminal
 and TERMID in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
 --('73000904','73000905','73000906','73000907','73000908','73004787','73004788','73007343','73004836','73006005','73006006','73006007','73006008','73006009','73006010','73006011','73006012','73006013','73006014','73006015','73006016')

 -------- version 2.0 EOS
 insert into vc30.RELATION
 (FAMNM,APPNM,TERMID,CLUSTERID,ACCCNT,LASTFULL,LASTPAR,ACCCODE,VIOLATIONCOUNT,LOCKED,MODON,MODBY,LOCKTIMESTAMP,EPROMID,DESCRIPTION,DLD_STATUS,
 ISAUTODOWNLOAD,LAST_ATTEMPTED_DLD_DATE,VERSION,LASTPARAM_DLD_DATE,LASTFILE_DLD_DATE,FORUSES,FORMVIEWTYPE,SERVERID,TERM_FILE_UPDATES,
 FORCEFILEDLD,FORCEPARAMDLD,FORCETERMFILEDLD)
 select @ToModel,@ToEOS,TERMID,CLUSTERID,ACCCNT,NULL,NULL,ACCCODE,0,LOCKED,getdate(),
 'SCRIPT1',NULL,NULL,DESCRIPTION,NULL,'N',NULL,NULL,NULL,NULL,FORUSES,FORMVIEWTYPE,NULL,TERM_FILE_UPDATES,'D','D','D'
 from vc30.relation
 where famnm = @FromModel and appnm = @FromEOS
 -- for specific terminal
 and TERMID in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
 --('73000904','73000905','73000906','73000907','73000908','73004787','73004788','73007343','73004836','73006005','73006006','73006007','73006008','73006009','73006010','73006011','73006012','73006013','73006014','73006015','73006016')

 --------

 -------- version 2.0 OS
 insert into vc30.RELATION
 (FAMNM,APPNM,TERMID,CLUSTERID,ACCCNT,LASTFULL,LASTPAR,ACCCODE,VIOLATIONCOUNT,LOCKED,MODON,MODBY,LOCKTIMESTAMP,EPROMID,DESCRIPTION,DLD_STATUS,
 ISAUTODOWNLOAD,LAST_ATTEMPTED_DLD_DATE,VERSION,LASTPARAM_DLD_DATE,LASTFILE_DLD_DATE,FORUSES,FORMVIEWTYPE,SERVERID,TERM_FILE_UPDATES,
 FORCEFILEDLD,FORCEPARAMDLD,FORCETERMFILEDLD)
 select @ToModel,@ToOS,TERMID,CLUSTERID,ACCCNT,NULL,NULL,ACCCODE,0,LOCKED,getdate(),
 'SCRIPT1',NULL,NULL,DESCRIPTION,NULL,'N',NULL,NULL,NULL,NULL,FORUSES,FORMVIEWTYPE,NULL,TERM_FILE_UPDATES,'D','D','D'
 from vc30.relation
 where famnm = @FromModel and appnm = @FromOS
 -- for specific terminal
 and TERMID in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
-- ('73000904','73000905','73000906','73000907','73000908','73004787','73004788','73007343','73004836','73006005','73006006','73006007','73006008','73006009','73006010','73006011','73006012','73006013','73006014','73006015','73006016')
--
-- --------
--
-- -------- version 2.0 CTLS
 insert into vc30.RELATION
 (FAMNM,APPNM,TERMID,CLUSTERID,ACCCNT,LASTFULL,LASTPAR,ACCCODE,VIOLATIONCOUNT,LOCKED,MODON,MODBY,LOCKTIMESTAMP,EPROMID,DESCRIPTION,DLD_STATUS,
 ISAUTODOWNLOAD,LAST_ATTEMPTED_DLD_DATE,VERSION,LASTPARAM_DLD_DATE,LASTFILE_DLD_DATE,FORUSES,FORMVIEWTYPE,SERVERID,TERM_FILE_UPDATES,
 FORCEFILEDLD,FORCEPARAMDLD,FORCETERMFILEDLD)
 select @ToModel,@ToCTLS,TERMID,CLUSTERID,ACCCNT,NULL,NULL,ACCCODE,0,LOCKED,getdate(),
 'SCRIPT1',NULL,NULL,DESCRIPTION,NULL,'N',NULL,NULL,NULL,NULL,FORUSES,FORMVIEWTYPE,NULL,TERM_FILE_UPDATES,'D','D','D'
 from vc30.relation
 where famnm = @FromModel and appnm = @FromCTLS
 -- for specific terminal
 and TERMID in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
-- ('73000904','73000905','73000906','73000907','73000908','73004787','73004788','73007343','73004836','73006005','73006006','73006007','73006008','73006009','73006010','73006011','73006012','73006013','73006014','73006015','73006016')
--
-- --------
--
-- -------- version 2.0 CLA
 insert into vc30.RELATION
 (FAMNM,APPNM,TERMID,CLUSTERID,ACCCNT,LASTFULL,LASTPAR,ACCCODE,VIOLATIONCOUNT,LOCKED,MODON,MODBY,LOCKTIMESTAMP,EPROMID,DESCRIPTION,DLD_STATUS,
 ISAUTODOWNLOAD,LAST_ATTEMPTED_DLD_DATE,VERSION,LASTPARAM_DLD_DATE,LASTFILE_DLD_DATE,FORUSES,FORMVIEWTYPE,SERVERID,TERM_FILE_UPDATES,
 FORCEFILEDLD,FORCEPARAMDLD,FORCETERMFILEDLD)
 select @ToModel,@ToCLA,TERMID,CLUSTERID,ACCCNT,NULL,NULL,ACCCODE,0,LOCKED,getdate(),
 'SCRIPT1',NULL,NULL,DESCRIPTION,NULL,'N',NULL,NULL,NULL,NULL,FORUSES,FORMVIEWTYPE,NULL,TERM_FILE_UPDATES,'D','D','D'
 from vc30.relation
 where famnm = @FromModel and appnm = @FromCLA
 -- for specific terminal
 and TERMID in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
-- ('73000904','73000905','73000906','73000907','73000908','73004787','73004788','73007343','73004836','73006005','73006006','73006007','73006008','73006009','73006010','73006011','73006012','73006013','73006014','73006015','73006016')
--
-- --------
--

insert into vc30.RELATION
(FAMNM,APPNM,TERMID,CLUSTERID,ACCCNT,LASTFULL,LASTPAR,ACCCODE,VIOLATIONCOUNT,LOCKED,MODON,MODBY,LOCKTIMESTAMP,EPROMID,DESCRIPTION,DLD_STATUS,
ISAUTODOWNLOAD,LAST_ATTEMPTED_DLD_DATE,VERSION,LASTPARAM_DLD_DATE,LASTFILE_DLD_DATE,FORUSES,FORMVIEWTYPE,SERVERID,TERM_FILE_UPDATES,
FORCEFILEDLD,FORCEPARAMDLD,FORCETERMFILEDLD)
select @ToModel,@ToAppnm,TERMID,CLUSTERID,ACCCNT,NULL,NULL,ACCCODE,0,LOCKED,getdate(),
'SCRIPT1',NULL,NULL,DESCRIPTION,NULL,'N',NULL,NULL,NULL,NULL,FORUSES,FORMVIEWTYPE,NULL,TERM_FILE_UPDATES,'D','D','D'
from vc30.relation
where famnm = @FromModel and appnm = @FromAppnm
-- for specific terminal
and TERMID in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
--('73003004','73003007','73005420')


-- 4 Create new parameters app on all TIDs in the target model based on the TIDs found in the source model and app name combination.

insert into vc30.RELATION
(FAMNM,APPNM,TERMID,CLUSTERID,ACCCNT,LASTFULL,LASTPAR,ACCCODE,VIOLATIONCOUNT,LOCKED,MODON,MODBY,LOCKTIMESTAMP,EPROMID,DESCRIPTION,DLD_STATUS,
ISAUTODOWNLOAD,LAST_ATTEMPTED_DLD_DATE,VERSION,LASTPARAM_DLD_DATE,LASTFILE_DLD_DATE,FORUSES,FORMVIEWTYPE,SERVERID,TERM_FILE_UPDATES,
FORCEFILEDLD,FORCEPARAMDLD,FORCETERMFILEDLD)
select @ToModel,@ToAppnm1,TERMID,CLUSTERID,ACCCNT,NULL,NULL,ACCCODE,0,LOCKED,getdate(),
'SCRIPT1',NULL,NULL,DESCRIPTION,NULL,'N',NULL,NULL,NULL,NULL,FORUSES,FORMVIEWTYPE,NULL,TERM_FILE_UPDATES,'D','D','D'
from vc30.relation
where famnm = @FromModel and appnm = @FromAppnm1
-- for specific terminal
and TERMID in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
--('73003004','73003007','73005420')


-- 5 Copy parameters from source app to target app
insert into vc30.PARAMETER (FAMNM, APPNM, PARTID, PARNAMELOC, SEQINFO, DLDTYPE,PARINFO, VALUE,PSIZE,FLAG)
select @ToModel model,@ToAppnm, PARTID, PARNAMELOC, SEQINFO, DLDTYPE,PARINFO, VALUE,PSIZE,FLAG
from vc30.parameter
where famnm = @FromModel and appnm in (@FromAppnm, @FromAppnm1)
-- for specific terminal
and PARTID in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
--('73003004','73003007','73005420')


-- Copy Parameters from one app to another app
-- 1 *NOTE: Ensure that the new app is created first in the target Model using Model/App Manager


-- update the file paths
-- update vc30.term_dld_files
-- set appnm = @ToAppnm, serfilenm = replace(serfilenm,'\\HUBP1-POS-MG1P.commonpr.eeft.com\VCApps\LiveEvoApps\EPOS\EPOS_01A5','\\HUBP1-POS-MG1P.commonpr.eeft.com\VCApps\LiveEvoApps\EPOS\EPOS_01A6')
-- where serfilenm like '\\HUBP1-POS-MG1P.commonpr.eeft.com\VCApps\LiveEvoApps\EPOS\EPOS_01A5%'
-- and famnm = @FromModel and appnm = @FromAppnm
-- -- -- for specific terminal
-- AND termid in
--
-- ('73000010','73000011','73000012','73000251','73000252','73000253','73000255','73000256','73000257','73000258','73000259','73000260','73000261','73000262','73000263','73000264','73000265','73000267','73000268','73000269','73000270','73000271','73000272','73000273','73000274','73000275','73000276','73000277','73000278','73000279','73000280','73000281','73000282','73000283','73000284','73000285','73001399','73001457','73002541','73002542','73002550','73002967','73002968','73002969','73003099','73003100','73003101','73003102','73003103','73003104','73003105','73003106','73003107','73003341','73003342')
update vc30.term_dld_files
set appnm = @ToAppnm
where famnm = @FromModel and appnm = @FromAppnm
AND termid in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
--('73003004','73003007','73005420')


--------------------------------------------------

-- 6.1 Delete old parameters
delete from vc30.RELATION
where famnm = @FromModel and appnm = @FromAppnm
-- for specific terminal
and TERMID in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
--('73003004','73003007','73005420')


-- 6.2 Delete old parameters
delete from vc30.RELATION
where famnm = @FromModel and appnm = @FromAppnm1
-- for specific terminal
and TERMID in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
--('73003004','73003007','73005420')


--
-- -------- version 2.0 EOS
-- -- 6.2 Delete old parameters
 delete from vc30.RELATION
 where famnm = @FromModel and appnm = @FromEOS
 -- for specific terminal
 and TERMID in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
-- ('73000904','73000905','73000906','73000907','73000908','73004787','73004788','73007343','73004836','73006005','73006006','73006007','73006008','73006009','73006010','73006011','73006012','73006013','73006014','73006015','73006016')
-- --------
--
-- -------- version 2.0 OS
-- -- 6.2 Delete old parameters
 delete from vc30.RELATION
 where famnm = @FromModel and appnm = @FromOS
 -- for specific terminal
 and TERMID in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
-- ('73000904','73000905','73000906','73000907','73000908','73004787','73004788','73007343','73004836','73006005','73006006','73006007','73006008','73006009','73006010','73006011','73006012','73006013','73006014','73006015','73006016')
-- --------
--
-- -------- version 2.0 CTLS
-- -- 6.2 Delete old parameters
 delete from vc30.RELATION
 where famnm = @FromModel and appnm = @FromCTLS
 -- for specific terminal
 and TERMID in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
-- ('73000904','73000905','73000906','73000907','73000908','73004787','73004788','73007343','73004836','73006005','73006006','73006007','73006008','73006009','73006010','73006011','73006012','73006013','73006014','73006015','73006016')
-- --------
--
--
-- -------- version 2.0 CLA
-- -- 6.2 Delete old parameters
 delete from vc30.RELATION
 where famnm = @FromModel and appnm = @FromCLA
 -- for specific terminal
 and TERMID in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
-- ('73000904','73000905','73000906','73000907','73000908','73004787','73004788','73007343','73004836','73006005','73006006','73006007','73006008','73006009','73006010','73006011','73006012','73006013','73006014','73006015','73006016')
-- ------
--

GO


Print 'Update USES Parm'
update vc30.PARAMETER set value = 'TEPOS0201P' where parnameloc = 'USES' and partid in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')

Print 'Delete UNZIP parm'
delete vc30.PARAMETER where parnameloc = '*unzip' and partid in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')


-------------change port from 8501 to 8508 ***************************
select * from vc30.PARAMETER where value = '8501' and partid in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
--('73003004','73003007','73005420')
Print 'UPDATE 8501 --> 8508'
update vc30.PARAMETER set value = '8508' where value = '8501' and partid in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
--('73003004','73003007','73005420')
select * from vc30.PARAMETER where value = '8508' and partid in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
--('73003004','73003007','73005420')


-- qUERY FOR check
select * from vc30.PARAMETER where PARTID in
('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')
and (PARNAMELOC = 'MENUPREAUTH'
--OR PARNAMELOC = 'DBLHEIGHT_UPPER'
--OR PARNAMELOC = 'COMPACTEELS'
OR PARNAMELOC = 'SENDOFFL')
ORDER BY PARNAMELOC

--Procedure for insert
declare @tid varchar(15)
declare @FromModel varchar(20)
declare @FromAppnm varchar(10)

 --SET @FromModel='Vx-675'
 SET @FromModel='Vx-520'
--SET @FromModel='Vx-820'
SET @FromAppnm='EPOS0201P'
--SET @FromAppnm='PIRA01A9P'

declare merch_cursor cursor for

select DISTINCT TERMID from vc30.relation
where

TERMID in

('73007022','73007023','73007024','73007025','73007027','73007028','73007029','73007030','73007031','73007032','73007033','73007034','73007035','73007036','73007037','73007038','73007039','73007040','73007041','73007042','73007043','73007044','73007045','73007046','73007047','73007048','73007049','73007050','73007051','73007052','73007053','73007054','73007055','73007056','73007057','73007058','73007059','73007060','73007061','73007062','73007063','73007064','73007065','73007066','73007067','73007068','73007069','73007070','73007071','73007072','73007073','73007074','73007075','73007076','73007077','73007078','73007079','73007080','73007081','73007082','73007083','73007084','73007085','73007086','73007087','73007088','73007089','73007090','73007091','73007092','73007093','73007094','73007095','73007096','73007097','73007098','73007099','73007101','73007102','73007103','73007104','73007105','73007106','73007107','73007108','73007109','73007110','73007111','73007112','73007113','73007114','73007115','73007116','73007117','73007118','73007119','73007120','73007121','73007122','73007123','73007124','73007125','73007126','73007127','73007128','73007129','73007130','73007131','73007132','73007133','73007134','73007135','73007136','73007137','73007138','73007139','73007140','73007141','73007142','73007143','73007144','73007145','73007146','73007147','73007148','73007149','73007150','73007151','73007152','73007153','73007154','73007155','73007156','73007157','73007158','73007159','73007160','73007161','73007162','73007163','73007164','73007165','73007166','73007167','73007168','73007169')

and FAMNM = @FromModel

open merch_cursor
if @@ERROR > 0
  return

fetch next from merch_cursor
into @tid

while @@FETCH_STATUS = 0
begin
--  delete from vc30.PARAMETER where PARTID = @tid

        insert into vc30.PARAMETER
        (FAMNM, APPNM, PARTID, PARNAMELOC, SEQINFO, DLDTYPE,PARINFO, VALUE,PSIZE,FLAG)
        (
        select @FromModel, @FromAppnm, @TID, PARNAMELOC, (select  max(seqinfo) + 1 from vc30.PARAMETER where PARTID = @TID), DLDTYPE,PARINFO,
        --VALUE,
        --'FALSE',
        --'NO_PP1000',
        --'TRUE',
		'0',
        --'3',
        --'1',
        --'*',
        PSIZE,FLAG
        from vc30.parameter where PARTID = 'TEPOS0201P' and PARNAMELOC = 'MENUPREAUTH' and
		famnm = 'Vx-520'
		--famnm = 'Vx-675'
        )

  fetch next from merch_cursor
  into @tid
end

CLOSE merch_cursor
deallocate merch_cursor
