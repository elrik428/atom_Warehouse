
--Procedure for insert
declare @tid varchar(15)
declare @FromModel varchar(20)
declare @FromAppnm varchar(10)

SET @FromModel='Vx-820'
SET @FromAppnm='EPOS0210P'


declare merch_cursor cursor for

select DISTINCT TERMID from vc30.relation
where

TERMID in

('73004373','73004374','73005937','73004372','73004371','73004552','73004554','73004553','73004636','73004551','73004739','73004637','73004558','73004559','73004561','73005936','73004560','73004034','73004033','73004031','73004032','73004547','73004548','73004549','73004550','73004573','73004571','73004570','73004572','73004745','73004750','73004749','73004748','73004747','73004746','73006177','73004564','73004563','73004562','73004117','73004120','73004118','73004121','73004119','73004688','73004617','73004616','73004614','73004613','73004615','73004660','73007553','73004658','73004659','73006017','73004657','73004669','73004670','73005201','73004672','73004671','73004676','73004677','73004674','73004675','73005941','73004673','73004666','73004662','73004664','73004665','73004663','73004661','73006364','73004654','73004655','73004652','73004656','73004653','73004703','73004702','73003753','73004701','73004700','73006718','73004400','73004402','73004404','73004403','73004401','73004685','73004684','73004686','73004683','73004704','73004705','73004707','73004744','73004706','73007568','73007564','73007567','73007565','73007566','73007569','73007433','73007435','73007429','73007430','73007431','73007432','73007434','73005896','73005892','73005890','73005894','73005895','73005891','73005893','73006740','73006738','73006741','73006736','73006742','73006737','73006739','73006747','73006744','73006749','73006746','73006750','73006748','73006745','73006757','73006753','73006758','73006756','73006759','73006752','73006755','73006754','73004056','73006173','73004058','73004060','73004057','73004059','73004295','73004296','73005879','73004297','73004298','73004354','73004352','73004355','73004356','73004353')

and FAMNM = @FromModel

open merch_cursor
if @@ERROR > 0
  return

fetch next from merch_cursor
into @tid

while @@FETCH_STATUS = 0
begin

        insert into vc30.PARAMETER
        (FAMNM, APPNM, PARTID, PARNAMELOC, SEQINFO, DLDTYPE,PARINFO, VALUE,PSIZE,FLAG)
        (
        select @FromModel, @FromAppnm, @TID, PARNAMELOC, (select  max(seqinfo) + 1 from vc30.PARAMETER where PARTID = @TID), DLDTYPE,PARINFO,
        '15:20',
        PSIZE,FLAG
        from vc30.parameter where PARTID = 'TEPOS0210P' and PARNAMELOC = 'AUTO_HOSTSCH' and
		famnm = @FromModel
		        )

  fetch next from merch_cursor
  into @tid
end

CLOSE merch_cursor
deallocate merch_cursor
