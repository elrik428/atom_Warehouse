-- uploadhostid
-- 1 = Piraeus , NET_ABC--
-- 6 = ETHNIKI, NET_NTBN--
-- 302 = ALPHABANK, NET_BICALPHA
-- 205 = EUROBANK, NET_CLBICEBNK--
--
declare @tid varchar(16)
declare @name varchar(20)

declare merch_cursor cursor for
select  TID, uploadhostname from MERCHANTS a, uploadhosts b
where tid in  ('73000003','73000004','73000012','73000017','73000018','73000020','73000021','73000022','73000030','73000031','73000043','73000048','73000049','73000050','73000051','73000057','73000060','73000062','73000072','73000080','73000081','73000084','73000086','73000095','73000138','73000139','73000146','73000147','73000153','73000159','73000164','73000169','73000171','73000174','73000176','73000177','73000213','73000214','73000216','73000218','73000219','73000222','73000223','73000224','73000252','73000257','73000258','73000262','73000267','73000268','73000279','73000280','73000281','73000282','73000285','73000290','73000302','73000711','73000712','73000713','73000804','73000809','73000812','73000815','73000822','73000823','73000825','73000828','73000830','73000831','73000833','73000835','73000837','73000838','73000844','73000850','73000852','73000853','73000982','73000987','73000990','73000992','73000997','73001000','73001001','73001002','73001004','73001005','73001009','73001012','73001017','73001022','73001025','73001026','73001030','73001031','73001033','73001034','73001037','73001038','73001039','73001043','73001046','73001047','73001048','73001053','73001060','73001061','73001063','73001068','73001069','73001070','73001071','73001072','73001075','73001098','73001099','73001184','73001189','73001193','73001194','73001195','73001399','73001458','73001467','73001469','73001471','73001472','73001474','73001477','73001484','73001487','73001489','73001490','73001492','73001499','73001501','73001505','73001506','73001507','73001508','73001514','73001524','73001525','73002528','73002529','73002530','73002531','73002533','73002534','73002536','73002542','73002549','73002556','73002646','73002654','73002657','73002668','73002670','73002672','73002673','73002675','73002678','73002680','73002683','73002685','73002686','73002688','73002690','73002691','73002692','73002695','73002701','73002704','73002705','73002709','73002744','73002772','73002775','73002778','73002779','73002880','73002881','73002883','73002885','73002886','73002887','73002888','73002890','73002891','73002893','73002894','73002895','73002896','73002897','73002898','73002899','73002900','73002903','73002906','73002907','73002908','73002911','73002912','73002914','73002915','73002919','73002920','73002922','73002927','73002930','73002933','73002936','73002937','73002938','73002940','73002947','73002950','73002952','73002968','73002969','73002970','73002971','73002976','73002978','73002979','73002980','73003005','73003007','73003011','73003015','73003021','73003025','73003026','73003034','73003035','73003036','73003038','73003039','73003041','73003055','73003059','73003060','73003061','73003062','73003063','73003067','73003100','73003101','73003102','73003106','73003110','73003133','73003137','73003138','73003139','73003140','73003141','73003142','73003146','73003156','73003157','73003160','73003161','73003162','73003165','73003166','73003173','73003174','73003175','73003177','73003178','73003179','73003183','73003184','73003187','73003188','73003189','73003190','73003191','73003192','73003195','73003196','73003344','73003345','73003346','73003349','73003359','73003370','73003371','73003373','73003377','73003382','73003387','73003388','73003389','73003390','73003391','73003394','73003395','73003396','73003401','73003402','73003403','73003405','73003411','73003412','73003415','73003421','73003422','73003424','73003425','73003428','73003430','73003432','73003435','73003436','73003437','73003438','73003439','73003441','73003442','73003445','73003451','73003452','73003454','73003455','73003458','73003461','73003463','73003470','73003474','73003476','73003477','73003478','73003479','73003480','73003482','73003484','73003485','73003486','73003487','73003488','73003491','73003493','73003559','73003561','73003751','73004769','73004770','73004771','73004807','73005212','73005401','73005420','73005437','73005506','73005507','73005509','73005513','73005514','73005518','73005521','73005522','73005527','73005529','73005530','73005532','73005533','73005535','73005536','73005779','73005780','73005792','73005877','73005945','73005947','73005952','73005954','73006154','73006175','73006218','73006220','73006221','73006222','73006319','73006320','73006321','73006349','73006350','73006711','73006768','73006769','73006776','73006778','73006780','73006782','73006798','73006820','73006829','73006832','73006840','73006843','73006848','73006850','73006851','73006853','73006855','73000001','73000005','73000010','73000016','73000019','73000026','73000029','73000033','73000034','73000036','73000037','73000038','73000039','73000058','73000063','73000064','73000066','73000068','73000069','73000070','73000071','73000082','73000083','73000088','73000090','73000092','73000093','73000097','73000135','73000136','73000137','73000140','73000143','73000145','73000148','73000151','73000155','73000156','73000160','73000162','73000166','73000170','73000172','73000175','73000178','73000217','73000221','73000225','73000251','73000255','73000256','73000259','73000260','73000261','73000263','73000264','73000265','73000269','73000270','73000271','73000272','73000278','73000283','73000284','73000287','73000288','73000289','73000292','73000293','73000294','73000296','73000297','73000298','73000299','73000300','73000301','73000718','73000803','73000808','73000810','73000811','73000813','73000814','73000816','73000817','73000818','73000819','73000820','73000821','73000824','73000826','73000827','73000829','73000834','73000839','73000841','73000845','73000851','73000981','73000983','73000984','73000985','73000986','73000988','73000989','73000991','73000993','73000994','73000995','73000996','73000998','73000999','73001003','73001006','73001007','73001008','73001010','73001011','73001013','73001018','73001019','73001020','73001021','73001023','73001024','73001027','73001028','73001029','73001032','73001035','73001036','73001040','73001041','73001042','73001044','73001045','73001049','73001050','73001051','73001052','73001062','73001066','73001073','73001076','73001078','73001095','73001097','73001100','73001101','73001185','73001186','73001187','73001190','73001191','73001192','73001459','73001460','73001461','73001463','73001464','73001465','73001466','73001468','73001473','73001475','73001483','73001486','73001488','73001491','73001494','73001498','73001503','73001504','73001510','73001512','73001513','73001515','73001516','73001517','73001518','73001519','73001520','73001521','73001522','73001523','73002535','73002537','73002538','73002539','73002550','73002648','73002655','73002674','73002677','73002684','73002687','73002696','73002697','73002699','73002706','73002707','73002751','73002776','73002777','73002786','73002879','73002882','73002884','73002889','73002892','73002901','73002902','73002904','73002905','73002909','73002910','73002913','73002916','73002917','73002918','73002921','73002923','73002924','73002925','73002926','73002928','73002929','73002931','73002932','73002934','73002935','73002939','73002941','73002942','73002943','73002944','73002945','73002946','73002948','73002949','73002951','73002953','73002954','73002955','73002956','73002957','73002958','73002972','73002981','73002982','73003003','73003004','73003008','73003009','73003010','73003012','73003013','73003014','73003020','73003022','73003023','73003024','73003027','73003032','73003033','73003037','73003040','73003043','73003053','73003054','73003056','73003057','73003058','73003064','73003065','73003066','73003098','73003099','73003104','73003105','73003107','73003108','73003109','73003117','73003128','73003130','73003135','73003143','73003144','73003145','73003147','73003148','73003149','73003150','73003151','73003152','73003153','73003154','73003155','73003158','73003159','73003163','73003164','73003167','73003168','73003169','73003170','73003171','73003172','73003176','73003180','73003181','73003182','73003185','73003186','73003341','73003342','73003343','73003347','73003348','73003350','73003352','73003354','73003355','73003357','73003358','73003368','73003369','73003374','73003375','73003376','73003381','73003383','73003384','73003385','73003386','73003392','73003393','73003397','73003398','73003399','73003400','73003406','73003407','73003408','73003413','73003414','73003416','73003417','73003418','73003419','73003420','73003423','73003429','73003431','73003433','73003443','73003444','73003446','73003447','73003448','73003449','73003450','73003453','73003456','73003457','73003462','73003464','73003465','73003466','73003467','73003468','73003469','73003471','73003472','73003473','73003475','73003481','73003483','73003494','73003560','73003752','73005210','73005211','73005391','73005393','73005397','73005402','73005421','73005436','73005508','73005512','73005515','73005516','73005517','73005519','73005520','73005523','73005524','73005525','73005526','73005528','73005531','73005534','73005537','73005538','73005781','73005953','73005955','73005956','73006219','73006710','73006712','73006715','73006716','73006717','73006770','73006773','73006774','73006775','73006777','73006779','73006781','73006783','73006819','73006830','73006831','73006839','73006841','73006842','73006844','73006845','73006846','73006847','73006849','73006852','73006854','73006860','73006861','73006863','73006874','73006890','73006891','73006908','73006909','73006922','73006923','73006924','73006926','73006928','73006929','73006930','73006931','73006933','73006936','73006937','73006940','73007219','73007222','73007302','73007304','73007306','73007371','73007372','73007376','73007440','73007443','73007480','73007481','73007483','73007489','73007490','73007491','73007515','73007516','73007520','73007631','73007632','73007736','73007744','73007777','73007778','73007781','73007785','73007797','73007799','73007802','73007809','73007810','73007813','73007834','73007835','73007836','73007837','73007849','73007852','73007859','73007892','73007893','73007929','73007931','73007933','73007935','73007937','73007941','73007942','73007943','73007944','73007949','73007951','73007952','73007953','73007954','73008035','78000000','73006856','73006857','73006862','73006864','73006871','73006873','73006875','73006876','73006877','73006887','73006889','73006912','73006919','73006920','73006921','73006925','73006927','73006932','73006934','73006938','73006939','73006941','73006942','73007217','73007218','73007220','73007221','73007239','73007240','73007301','73007303','73007305','73007373','73007374','73007375','73007422','73007441','73007442','73007482','73007484','73007485','73007486','73007487','73007488','73007521','73007684','73007737','73007738','73007739','73007745','73007749','73007750','73007753','73007754','73007755','73007782','73007783','73007786','73007796','73007798','73007800','73007801','73007803','73007804','73007805','73007806','73007807','73007808','73007811','73007812','73007830','73007838','73007853','73007858','73007891','73007894','73007895','73007898','73007899','73007930','73007932','73007934','73007936','73007938','73007939','73007940','73007945','73007946','73007947','73007948','73007950','73007955','73007956','73007957','73007958','73008000','73008036')

and a.uploadhostid = '302'
and a.uploadhostid = b.uploadhostid

open merch_cursor
if @@ERROR > 0
  return

fetch next from merch_cursor
into @tid, @name

while @@FETCH_STATUS = 0
begin
 -- delete from MERCHBINS where TID = @tid and destport = 'NET_CLBICEBNK'
  --and len(binlower) > 3 and destport <> 'NET_CITI'


--7.1 ---Basic Insert - Change from CUP so to run --
    ---- Example for CUP. ALLOWED MUST BE USED. Applies to NET_ABC = 'Y', all others 'N'
  insert into MERCHBINS
  (TID, DESTPORT, BINLOWER, BINUPPER, INSTMIN, INSTMAX, GRACEMIN, GRACEMAX, ALLOWED, AMOUNTMIN, AMOUNTMAX)
  (
  select @TID,
  --DESTPORT,
  'NET_BICALPHA',
  BINLOWER, BINUPPER,
  --INSTMIN,
  --2
  0,
  --INSTMAX,
  1,
  GRACEMIN, GRACEMAX,
  --ALLOWED, ---- Used only for CUP
  'N',
  AMOUNTMIN, AMOUNTMAX from MERCHBINS
  where tid = '2222    ' and destport = 'NET_CUP' )

  fetch next from merch_cursor
  into @tid, @name
end

CLOSE merch_cursor
deallocate merch_cursor
